---
title: "Console Rendering Patterns"
description: "Guide for rendering ObjectUI components in console/terminal environments"
---

# Console Rendering Patterns

ObjectUI can render schemas not only in web browsers but also in terminal/console environments for CLI tools, server administration, and DevOps workflows.

## Overview

Console rendering enables:
- **CLI Tools**: Build interactive command-line applications
- **Server Management**: Admin consoles for ObjectStack servers
- **DevOps Workflows**: Terminal-based dashboards and monitoring
- **Headless Automation**: Script-friendly data operations

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ObjectUI Schema (JSON)               â”‚
â”‚   Universal, environment-agnostic            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
       â”‚               â”‚
       â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Web Renderer â”‚  â”‚ CLI Renderer â”‚
â”‚ (React DOM)  â”‚  â”‚ (Terminal)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚
       â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚  â”‚   Terminal   â”‚
â”‚   (HTML/CSS) â”‚  â”‚   (ANSI)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Console UI Framework

### Using Ink (React for CLI)

ObjectUI integrates with [Ink](https://github.com/vadimdemedes/ink) to render React components in the terminal:

```bash
npm install ink react
```

```typescript
// cli-app.tsx
import React from 'react';
import { render, Box, Text } from 'ink';
import { SchemaRenderer } from '@object-ui/react';
import { ConsoleAdapter } from '@object-ui/console'; // Future package

const schema = {
  type: 'container',
  children: [
    {
      type: 'text',
      value: 'Welcome to ObjectUI Console',
      className: 'text-xl font-bold'
    },
    {
      type: 'object-grid',
      objectName: 'contact',
      dataSource: myDataSource,
      fieldNames: ['name', 'email', 'status']
    }
  ]
};

function App() {
  return <SchemaRenderer schema={schema} adapter={new ConsoleAdapter()} />;
}

render(<App />);
```

## Console-Specific Components

### 1. Text Display

**Web:**
```jsx
<div className="text-xl font-bold text-blue-600">
  Hello World
</div>
```

**Console:**
```
\x1b[1m\x1b[34mHello World\x1b[0m
```

**Schema:**
```json
{
  "type": "text",
  "value": "Hello World",
  "style": {
    "bold": true,
    "color": "blue",
    "size": "xl"
  }
}
```

### 2. Tables

**Schema:**
```json
{
  "type": "object-grid",
  "objectName": "contact",
  "dataSource": "objectstack://contacts",
  "fieldNames": ["name", "email", "status"],
  "console": {
    "format": "table",
    "borders": "single",
    "colors": true,
    "maxWidth": 120
  }
}
```

**Console Output:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name           â”‚ Email                    â”‚ Status   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ John Doe       â”‚ john@example.com         â”‚ Active   â”‚
â”‚ Jane Smith     â”‚ jane@example.com         â”‚ Active   â”‚
â”‚ Bob Johnson    â”‚ bob@example.com          â”‚ Inactive â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Forms

**Schema:**
```json
{
  "type": "object-form",
  "objectName": "contact",
  "mode": "create",
  "fieldNames": ["name", "email", "phone"],
  "console": {
    "interactive": true,
    "validate": "onBlur"
  }
}
```

**Console Interaction:**
```
Create New Contact
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Name: â”‚ John Doe             â”‚
Email: â”‚ john@example.com     â”‚
Phone: â”‚ +1-555-0123          â”‚

[Save] [Cancel]
```

### 4. Menus

**Schema:**
```json
{
  "type": "navigation-menu",
  "items": [
    { "label": "Dashboard", "value": "dashboard", "icon": "ğŸ“Š" },
    { "label": "Contacts", "value": "contacts", "icon": "ğŸ‘¥" },
    { "label": "Settings", "value": "settings", "icon": "âš™ï¸" }
  ],
  "console": {
    "style": "select",
    "searchable": true
  }
}
```

**Console Interaction:**
```
? Select an option: (Use arrow keys)
â¯ ğŸ“Š Dashboard
  ğŸ‘¥ Contacts
  âš™ï¸  Settings
```

## Terminal Rendering Libraries

### 1. CLI-Table3

For table rendering:

```typescript
import Table from 'cli-table3';

function renderTable(data: any[], columns: string[]) {
  const table = new Table({
    head: columns.map(c => ({ content: c, hAlign: 'center' })),
    style: {
      head: ['cyan'],
      border: ['gray']
    }
  });

  data.forEach(row => {
    table.push(columns.map(col => row[col]));
  });

  return table.toString();
}
```

### 2. Chalk

For colored output:

```typescript
import chalk from 'chalk';

function renderStatus(status: string) {
  const colors = {
    active: chalk.green('âœ“ Active'),
    inactive: chalk.red('âœ— Inactive'),
    pending: chalk.yellow('â³ Pending')
  };
  return colors[status] || status;
}
```

### 3. Ora

For loading spinners:

```typescript
import ora from 'ora';

async function fetchData() {
  const spinner = ora('Loading contacts...').start();
  
  try {
    const data = await dataSource.find('contact');
    spinner.succeed('Contacts loaded');
    return data;
  } catch (error) {
    spinner.fail('Failed to load contacts');
    throw error;
  }
}
```

### 4. Inquirer

For interactive prompts:

```typescript
import inquirer from 'inquirer';

async function createContact() {
  const answers = await inquirer.prompt([
    {
      type: 'input',
      name: 'name',
      message: 'Contact name:',
      validate: (input) => input.length > 0
    },
    {
      type: 'input',
      name: 'email',
      message: 'Email address:',
      validate: (input) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(input)
    },
    {
      type: 'list',
      name: 'status',
      message: 'Status:',
      choices: ['Active', 'Inactive', 'Pending']
    }
  ]);

  return answers;
}
```

## Console Adapter Implementation

### Basic Adapter

```typescript
// @object-ui/console/src/ConsoleAdapter.ts
export class ConsoleAdapter {
  render(schema: BaseSchema): string {
    switch (schema.type) {
      case 'text':
        return this.renderText(schema);
      case 'object-grid':
        return this.renderGrid(schema);
      case 'object-form':
        return this.renderForm(schema);
      default:
        return `[Unsupported: ${schema.type}]`;
    }
  }

  private renderText(schema: TextSchema): string {
    const { value, style } = schema;
    let output = value;

    if (style?.bold) output = chalk.bold(output);
    if (style?.color) output = chalk[style.color](output);

    return output;
  }

  private renderGrid(schema: ObjectGridSchema): string {
    const { rowData, columnDefs } = schema;
    const table = new Table({
      head: columnDefs.map(col => col.headerName),
      colWidths: columnDefs.map(col => col.width || 20)
    });

    rowData.forEach(row => {
      table.push(columnDefs.map(col => row[col.field]));
    });

    return table.toString();
  }

  private async renderForm(schema: ObjectFormSchema): Promise<any> {
    const { objectName, fieldNames, dataSource } = schema;
    const objectSchema = await dataSource.getObjectSchema(objectName);
    
    const questions = fieldNames.map(fieldName => {
      const field = objectSchema.fields[fieldName];
      return {
        type: this.getPromptType(field.type),
        name: fieldName,
        message: field.label,
        validate: field.required ? (input: any) => !!input : undefined
      };
    });

    return inquirer.prompt(questions);
  }

  private getPromptType(fieldType: string): string {
    const mapping = {
      text: 'input',
      email: 'input',
      number: 'number',
      boolean: 'confirm',
      select: 'list',
      date: 'input'
    };
    return mapping[fieldType] || 'input';
  }
}
```

## Example: CLI Tool

### Complete Contact Manager CLI

```typescript
#!/usr/bin/env node
// bin/contacts-cli.ts

import { Command } from 'commander';
import { ObjectStackAdapter } from '@object-ui/data-objectstack';
import { ConsoleAdapter } from '@object-ui/console';
import chalk from 'chalk';
import ora from 'ora';

const program = new Command();
const dataSource = new ObjectStackAdapter({
  baseUrl: process.env.API_URL || 'http://localhost:3000/api'
});

const consoleAdapter = new ConsoleAdapter();

program
  .name('contacts')
  .description('Contact management CLI')
  .version('1.0.0');

// List contacts
program
  .command('list')
  .description('List all contacts')
  .option('-s, --status <status>', 'Filter by status')
  .action(async (options) => {
    const spinner = ora('Loading contacts...').start();
    
    try {
      const filter = options.status 
        ? { field: 'status', operator: 'eq', value: options.status }
        : undefined;

      const result = await dataSource.find('contact', {
        filter,
        sort: [{ field: 'name', order: 'asc' }]
      });

      spinner.succeed('Contacts loaded');

      const output = consoleAdapter.render({
        type: 'object-grid',
        rowData: result.data,
        columnDefs: [
          { field: 'name', headerName: 'Name' },
          { field: 'email', headerName: 'Email' },
          { field: 'phone', headerName: 'Phone' },
          { field: 'status', headerName: 'Status' }
        ]
      });

      console.log(output);
    } catch (error) {
      spinner.fail('Failed to load contacts');
      console.error(chalk.red(error.message));
      process.exit(1);
    }
  });

// Create contact
program
  .command('create')
  .description('Create a new contact')
  .action(async () => {
    try {
      const data = await consoleAdapter.render({
        type: 'object-form',
        objectName: 'contact',
        mode: 'create',
        fieldNames: ['name', 'email', 'phone', 'status'],
        dataSource
      });

      const spinner = ora('Creating contact...').start();
      await dataSource.create('contact', data);
      spinner.succeed('Contact created successfully');
    } catch (error) {
      console.error(chalk.red(error.message));
      process.exit(1);
    }
  });

// Update contact
program
  .command('update <id>')
  .description('Update a contact')
  .action(async (id) => {
    try {
      const spinner = ora('Loading contact...').start();
      const existing = await dataSource.findById('contact', id);
      spinner.stop();

      const data = await consoleAdapter.render({
        type: 'object-form',
        objectName: 'contact',
        mode: 'update',
        fieldNames: ['name', 'email', 'phone', 'status'],
        dataSource,
        initialData: existing
      });

      spinner.start('Updating contact...');
      await dataSource.update('contact', id, data);
      spinner.succeed('Contact updated successfully');
    } catch (error) {
      console.error(chalk.red(error.message));
      process.exit(1);
    }
  });

// Delete contact
program
  .command('delete <id>')
  .description('Delete a contact')
  .action(async (id) => {
    const { confirm } = await inquirer.prompt([
      {
        type: 'confirm',
        name: 'confirm',
        message: 'Are you sure you want to delete this contact?',
        default: false
      }
    ]);

    if (!confirm) {
      console.log('Cancelled');
      return;
    }

    try {
      const spinner = ora('Deleting contact...').start();
      await dataSource.delete('contact', id);
      spinner.succeed('Contact deleted successfully');
    } catch (error) {
      console.error(chalk.red(error.message));
      process.exit(1);
    }
  });

program.parse();
```

### Usage

```bash
# List all contacts
$ contacts list

# List active contacts only
$ contacts list --status active

# Create a new contact (interactive)
$ contacts create

# Update a contact
$ contacts update contact-123

# Delete a contact
$ contacts delete contact-123
```

## Server Console Integration

### Hono Server with Console UI

```typescript
// server.ts
import { Hono } from 'hono';
import { serve } from '@hono/node-server';
import { serveStatic } from '@hono/node-server/serve-static';

const app = new Hono();

// Serve console UI at /console
app.use('/console/*', serveStatic({ 
  root: './dist/console',
  rewriteRequestPath: (path) => path.replace(/^\/console/, '')
}));

// API routes
app.get('/api/contacts', async (c) => {
  const contacts = await dataSource.find('contact');
  return c.json(contacts);
});

serve({ fetch: app.fetch, port: 3000 }, (info) => {
  console.log(`ğŸš€ Server running at http://localhost:${info.port}`);
  console.log(`ğŸ“Š Console UI at http://localhost:${info.port}/console`);
});
```

## Best Practices

### 1. Responsive Design

Adapt to terminal width:

```typescript
const terminalWidth = process.stdout.columns || 80;

const columnWidths = columns.map(col => 
  Math.floor(terminalWidth / columns.length)
);
```

### 2. Color Accessibility

Support --no-color flag:

```typescript
import chalk from 'chalk';

const useColors = !process.argv.includes('--no-color');
chalk.level = useColors ? chalk.level : 0;
```

### 3. Progress Indicators

Show progress for long operations:

```typescript
import cliProgress from 'cli-progress';

const bar = new cliProgress.SingleBar({}, cliProgress.Presets.shades_classic);
bar.start(total, 0);

for (let i = 0; i < total; i++) {
  await processItem(i);
  bar.update(i + 1);
}

bar.stop();
```

### 4. Error Handling

Graceful error messages:

```typescript
try {
  await operation();
} catch (error) {
  console.error(chalk.red('âœ— Error:'), error.message);
  if (error.details) {
    console.error(chalk.gray(error.details));
  }
  process.exit(1);
}
```

## Resources

- [Ink - React for CLIs](https://github.com/vadimdemedes/ink)
- [CLI-Table3](https://github.com/cli-table/cli-table3)
- [Chalk](https://github.com/chalk/chalk)
- [Inquirer.js](https://github.com/SBoudrias/Inquirer.js)
- [Commander.js](https://github.com/tj/commander.js)
- [Ora](https://github.com/sindresorhus/ora)

## Future Work

- [ ] @object-ui/console package
- [ ] Full schema support in terminal
- [ ] TUI (Text User Interface) framework
- [ ] SSH remote console access
- [ ] Terminal multiplexing (tmux/screen integration)
