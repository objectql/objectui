---
title: "Plugin View"
---

import { InteractiveDemo } from '@/app/components/InteractiveDemo';
import { PluginLoader } from '@/app/components/PluginLoader';

Unified view component for ObjectQL objects with automatic form and grid generation.

## Installation

```bash
npm install @object-ui/plugin-view
```

<PluginLoader plugins={['view']}>

## Interactive Examples

### User Directory View

<InteractiveDemo
  schema={{
    type: "card",
    children: [
      {
        type: "flex",
        className: "items-center justify-between mb-4",
        children: [
          { type: "text", content: "Users", className: "text-lg font-semibold" },
          { type: "button", label: "Add User", variant: "default", size: "sm", icon: "plus" }
        ]
      },
      {
        type: "stack",
        spacing: 0,
        children: [
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-2 bg-muted text-xs font-medium text-muted-foreground border-b",
            children: [
              { type: "text", content: "Name", className: "w-36" },
              { type: "text", content: "Email", className: "w-48" },
              { type: "text", content: "Role", className: "w-24" },
              { type: "text", content: "Status", className: "w-20" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Alice Johnson", className: "w-36 font-medium" },
              { type: "text", content: "alice@example.com", className: "w-48 text-muted-foreground" },
              { type: "text", content: "Admin", className: "w-24" },
              { type: "badge", label: "Active", variant: "default" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Bob Smith", className: "w-36 font-medium" },
              { type: "text", content: "bob@example.com", className: "w-48 text-muted-foreground" },
              { type: "text", content: "Editor", className: "w-24" },
              { type: "badge", label: "Active", variant: "default" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Carol White", className: "w-36 font-medium" },
              { type: "text", content: "carol@example.com", className: "w-48 text-muted-foreground" },
              { type: "text", content: "Viewer", className: "w-24" },
              { type: "badge", label: "Inactive", variant: "secondary" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 text-sm",
            children: [
              { type: "text", content: "David Lee", className: "w-36 font-medium" },
              { type: "text", content: "david@example.com", className: "w-48 text-muted-foreground" },
              { type: "text", content: "Editor", className: "w-24" },
              { type: "badge", label: "Active", variant: "default" }
            ]
          }
        ]
      }
    ]
  }}
  title="Grid View Mode"
  description="Display objects in a sortable, searchable data grid"
/>

### Record Detail View

<InteractiveDemo
  schema={{
    type: "card",
    className: "max-w-lg mx-auto",
    header: [
      {
        type: "flex",
        className: "items-center gap-3",
        children: [
          { type: "avatar", fallback: "AJ", className: "h-12 w-12" },
          {
            type: "stack",
            spacing: 1,
            children: [
              { type: "text", content: "Alice Johnson", className: "text-lg font-semibold" },
              { type: "text", content: "Admin Â· Joined Jan 2024", className: "text-sm text-muted-foreground" }
            ]
          }
        ]
      }
    ],
    children: [
      {
        type: "stack",
        spacing: 3,
        children: [
          { type: "flex", className: "items-center gap-2", children: [{ type: "text", content: "Email", className: "text-sm text-muted-foreground w-24" }, { type: "text", content: "alice@example.com", className: "text-sm" }] },
          { type: "flex", className: "items-center gap-2", children: [{ type: "text", content: "Phone", className: "text-sm text-muted-foreground w-24" }, { type: "text", content: "+1 (555) 123-4567", className: "text-sm" }] },
          { type: "flex", className: "items-center gap-2", children: [{ type: "text", content: "Department", className: "text-sm text-muted-foreground w-24" }, { type: "text", content: "Engineering", className: "text-sm" }] },
          { type: "flex", className: "items-center gap-2", children: [{ type: "text", content: "Location", className: "text-sm text-muted-foreground w-24" }, { type: "text", content: "San Francisco, CA", className: "text-sm" }] }
        ]
      },
      {
        type: "flex",
        className: "justify-end gap-2 pt-4 border-t mt-4",
        children: [
          { type: "button", label: "Edit", variant: "outline", size: "sm", icon: "pencil" },
          { type: "button", label: "Delete", variant: "destructive", size: "sm", icon: "trash-2" }
        ]
      }
    ]
  }}
  title="Detail View Mode"
  description="Display a single record with all its fields"
/>

### Form Create View

<InteractiveDemo
  schema={{
    type: "card",
    className: "max-w-lg mx-auto",
    header: [
      { type: "text", content: "Create New User", className: "text-lg font-semibold" }
    ],
    children: [
      {
        type: "stack",
        spacing: 4,
        children: [
          {
            type: "grid",
            cols: 2,
            gap: 4,
            children: [
              { type: "stack", spacing: 2, children: [{ type: "label", label: "First Name" }, { type: "input", placeholder: "Alice" }] },
              { type: "stack", spacing: 2, children: [{ type: "label", label: "Last Name" }, { type: "input", placeholder: "Johnson" }] }
            ]
          },
          { type: "stack", spacing: 2, children: [{ type: "label", label: "Email" }, { type: "input", inputType: "email", placeholder: "alice@example.com" }] },
          { type: "stack", spacing: 2, children: [{ type: "label", label: "Role" }, { type: "select", options: [{ label: "Admin", value: "admin" }, { label: "Editor", value: "editor" }, { label: "Viewer", value: "viewer" }] }] },
          {
            type: "flex",
            className: "justify-end gap-2 pt-2",
            children: [
              { type: "button", label: "Cancel", variant: "outline" },
              { type: "button", label: "Create User", variant: "default", icon: "plus" }
            ]
          }
        ]
      }
    ]
  }}
  title="Form View Mode"
  description="Auto-generated form for creating or editing records"
/>

## Features

- **Automatic Views** - Generate views from ObjectQL schemas
- **Form Generation** - Auto-generate forms from object definitions
- **Grid Generation** - Auto-generate data grids
- **CRUD Operations** - Built-in create, read, update, delete
- **Field Mapping** - Automatic field type detection
- **ObjectQL Integration** - Native ObjectStack support

## Schema API

### ObjectView

```plaintext
{
  type: 'object-view',
  object: string,                 // ObjectQL object name
  viewMode?: 'grid' | 'form' | 'detail',
  fields?: string[],              // Fields to display
  dataSource?: DataSource,
  onCreate?: (data) => void,
  onUpdate?: (id, data) => void,
  onDelete?: (id) => void,
  className?: string
}
```

## Usage

### Auto-registration (Side-effect Import)

```plaintext
import '@object-ui/plugin-view';
```

### Manual Registration

```plaintext
import { viewComponents } from '@object-ui/plugin-view';
import { ComponentRegistry } from '@object-ui/core';

Object.entries(viewComponents).forEach(([type, component]) => {
  ComponentRegistry.register(type, component);
});
```

## Examples

### Grid View

Display objects in a data grid:

```json
{
  "type": "object-view",
  "object": "users",
  "viewMode": "grid",
  "fields": ["name", "email", "role", "created_at"]
}
```

### Form View

Create or edit objects with a form:

```json
{
  "type": "object-view",
  "object": "users",
  "viewMode": "form",
  "mode": "create",
  "fields": ["name", "email", "role"]
}
```

### Detail View

Display a single object's details:

```json
{
  "type": "object-view",
  "object": "users",
  "viewMode": "detail",
  "recordId": "123",
  "fields": ["name", "email", "role", "bio", "created_at"]
}
```

## CRUD Operations

### Create

```json
{
  "type": "object-view",
  "object": "products",
  "viewMode": "form",
  "mode": "create"
}
```

### Read/List

```json
{
  "type": "object-view",
  "object": "products",
  "viewMode": "grid",
  "pagination": true,
  "searchable": true,
  "filters": {
    "category": "electronics"
  }
}
```

### Update

```json
{
  "type": "object-view",
  "object": "products",
  "viewMode": "form",
  "mode": "edit",
  "recordId": "123"
}
```

### Delete

```json
{
  "type": "object-view",
  "object": "products",
  "viewMode": "grid",
  "enableDelete": true
}
```

## Field Configuration

Customize field display and behavior:

```json
{
  "type": "object-view",
  "object": "users",
  "viewMode": "form",
  "fieldConfig": {
    "name": {
      "label": "Full Name",
      "required": true,
      "placeholder": "Enter name"
    },
    "email": {
      "label": "Email Address",
      "type": "email",
      "required": true
    },
    "role": {
      "label": "User Role",
      "type": "select",
      "options": [
        { "label": "Admin", "value": "admin" },
        { "label": "User", "value": "user" }
      ]
    }
  }
}
```

## Advanced Features

### Nested Objects

```json
{
  "type": "object-view",
  "object": "orders",
  "viewMode": "detail",
  "fields": ["order_number", "customer.name", "items", "total"],
  "nestedFields": {
    "items": {
      "type": "object-grid",
      "object": "order_items",
      "fields": ["product.name", "quantity", "price"]
    }
  }
}
```

### Tabs View

```json
{
  "type": "object-view",
  "object": "users",
  "viewMode": "tabs",
  "tabs": [
    { "label": "Details", "fields": ["name", "email", "bio"] },
    { "label": "Settings", "fields": ["theme", "notifications", "timezone"] },
    { "label": "Activity", "type": "object-grid", "object": "user_activities" }
  ]
}
```

## Integration with ObjectQL

```plaintext
import { createObjectStackAdapter } from '@object-ui/data-objectstack';

const dataSource = createObjectStackAdapter({
  baseUrl: 'https://api.example.com',
  token: 'your-auth-token'
});

const schema = {
  type: 'object-view',
  object: 'contacts',
  viewMode: 'grid',
  dataSource,
  fields: ['first_name', 'last_name', 'email', 'company'],
  searchable: true,
  sortable: true
};
```

## TypeScript Support

```plaintext
import type { ObjectViewSchema } from '@object-ui/plugin-view';

const userView: ObjectViewSchema = {
  type: 'object-view',
  object: 'users',
  viewMode: 'grid',
  fields: ['name', 'email', 'role']
};
```

## License

MIT

</PluginLoader>
