---
title: "Plugin Grid"
---

import { InteractiveDemo } from '@/app/components/InteractiveDemo';
import { PluginLoader } from '@/app/components/PluginLoader';

Advanced data grid with sorting, filtering, pagination, and row selection capabilities.

## Installation

```bash
npm install @object-ui/plugin-grid
```

<PluginLoader plugins={['grid']}>

## Interactive Examples

<InteractiveDemo
  schema={{
    type: "card",
    children: [
      {
        type: "flex",
        className: "items-center justify-between mb-4",
        children: [
          { type: "text", content: "Product Inventory", className: "text-lg font-semibold" },
          {
            type: "flex",
            className: "gap-2",
            children: [
              { type: "button", label: "Filter", variant: "outline", size: "sm", icon: "filter" },
              { type: "button", label: "Export", variant: "outline", size: "sm", icon: "download" }
            ]
          }
        ]
      },
      {
        type: "stack",
        spacing: 0,
        children: [
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-2 bg-muted text-xs font-medium text-muted-foreground border-b",
            children: [
              { type: "text", content: "Product", className: "w-40" },
              { type: "text", content: "SKU", className: "w-24" },
              { type: "text", content: "Price", className: "w-20" },
              { type: "text", content: "Stock", className: "w-16" },
              { type: "text", content: "Status", className: "w-24" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Wireless Mouse", className: "w-40 font-medium" },
              { type: "text", content: "WM-001", className: "w-24 text-muted-foreground" },
              { type: "text", content: "$29.99", className: "w-20" },
              { type: "text", content: "150", className: "w-16" },
              { type: "badge", label: "In Stock", variant: "default" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Mechanical Keyboard", className: "w-40 font-medium" },
              { type: "text", content: "MK-002", className: "w-24 text-muted-foreground" },
              { type: "text", content: "$89.99", className: "w-20" },
              { type: "text", content: "42", className: "w-16" },
              { type: "badge", label: "Low Stock", variant: "outline" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "USB-C Hub", className: "w-40 font-medium" },
              { type: "text", content: "UH-003", className: "w-24 text-muted-foreground" },
              { type: "text", content: "$45.00", className: "w-20" },
              { type: "text", content: "200", className: "w-16" },
              { type: "badge", label: "In Stock", variant: "default" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Monitor Stand", className: "w-40 font-medium" },
              { type: "text", content: "MS-004", className: "w-24 text-muted-foreground" },
              { type: "text", content: "$35.00", className: "w-20" },
              { type: "text", content: "0", className: "w-16" },
              { type: "badge", label: "Out of Stock", variant: "destructive" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 text-sm",
            children: [
              { type: "text", content: "Webcam HD", className: "w-40 font-medium" },
              { type: "text", content: "WC-005", className: "w-24 text-muted-foreground" },
              { type: "text", content: "$65.00", className: "w-20" },
              { type: "text", content: "88", className: "w-16" },
              { type: "badge", label: "In Stock", variant: "default" }
            ]
          }
        ]
      }
    ]
  }}
  title="Product Inventory Grid"
  description="Data grid with sorting and filtering for product management"
/>

<InteractiveDemo
  schema={{
    type: "card",
    children: [
      {
        type: "flex",
        className: "items-center justify-between mb-4",
        children: [
          { type: "text", content: "Team Members", className: "text-lg font-semibold" },
          { type: "button", label: "Invite Member", variant: "default", size: "sm", icon: "user-plus" }
        ]
      },
      {
        type: "stack",
        spacing: 0,
        children: [
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-2 bg-muted text-xs font-medium text-muted-foreground border-b",
            children: [
              { type: "text", content: "Name", className: "w-40" },
              { type: "text", content: "Role", className: "w-32" },
              { type: "text", content: "Department", className: "w-28" },
              { type: "text", content: "Status", className: "w-20" },
              { type: "text", content: "Last Active", className: "w-24" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Sarah Chen", className: "w-40 font-medium" },
              { type: "text", content: "Lead Engineer", className: "w-32" },
              { type: "text", content: "Engineering", className: "w-28 text-muted-foreground" },
              { type: "badge", label: "Online", variant: "default", className: "w-20" },
              { type: "text", content: "Just now", className: "w-24 text-xs text-muted-foreground" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Marcus Rodriguez", className: "w-40 font-medium" },
              { type: "text", content: "Designer", className: "w-32" },
              { type: "text", content: "Design", className: "w-28 text-muted-foreground" },
              { type: "badge", label: "Online", variant: "default", className: "w-20" },
              { type: "text", content: "2m ago", className: "w-24 text-xs text-muted-foreground" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 border-b text-sm",
            children: [
              { type: "text", content: "Emily Watson", className: "w-40 font-medium" },
              { type: "text", content: "PM", className: "w-32" },
              { type: "text", content: "Product", className: "w-28 text-muted-foreground" },
              { type: "badge", label: "Away", variant: "secondary", className: "w-20" },
              { type: "text", content: "1h ago", className: "w-24 text-xs text-muted-foreground" }
            ]
          },
          {
            type: "flex",
            className: "items-center gap-4 px-4 py-3 text-sm",
            children: [
              { type: "text", content: "James Kim", className: "w-40 font-medium" },
              { type: "text", content: "DevOps", className: "w-32" },
              { type: "text", content: "Engineering", className: "w-28 text-muted-foreground" },
              { type: "badge", label: "Offline", variant: "outline", className: "w-20" },
              { type: "text", content: "3h ago", className: "w-24 text-xs text-muted-foreground" }
            ]
          }
        ]
      }
    ]
  }}
  title="Team Members Grid"
  description="Grid with team member data and real-time status indicators"
/>

## Features

- **Sorting** - Multi-column sorting support
- **Filtering** - Column-level filtering
- **Pagination** - Built-in pagination controls
- **Row Selection** - Single and multi-row selection
- **Custom Cells** - Custom cell renderers
- **Responsive** - Mobile-friendly layouts

## Schema API

### Grid

```plaintext
{
  type: 'grid',
  columns: GridColumn[],
  data?: any[],
  sortable?: boolean,
  filterable?: boolean,
  pagination?: boolean | PaginationConfig,
  selectable?: boolean,
  onRowClick?: (row) => void,
  className?: string
}
```

### Column Definition

```plaintext
interface GridColumn {
  header: string;
  accessorKey: string;
  sortable?: boolean;
  filterable?: boolean;
  width?: number | string;
  align?: 'left' | 'center' | 'right';
  cell?: (value, row) => ReactNode;
}
```

## Usage

### Auto-registration (Side-effect Import)

```plaintext
import '@object-ui/plugin-grid';
```

### Manual Registration

```plaintext
import { gridComponents } from '@object-ui/plugin-grid';
import { ComponentRegistry } from '@object-ui/core';

Object.entries(gridComponents).forEach(([type, component]) => {
  ComponentRegistry.register(type, component);
});
```

## Examples

### Grid with Custom Cells

```json
{
  "type": "grid",
  "columns": [
    { "header": "Name", "accessorKey": "name" },
    { 
      "header": "Status", 
      "accessorKey": "status",
      "cell": {
        "type": "badge",
        "label": "${value}",
        "variant": "${value === 'Active' ? 'success' : 'default'}"
      }
    },
    {
      "header": "Actions",
      "accessorKey": "id",
      "cell": {
        "type": "button-group",
        "buttons": [
          { "label": "Edit" },
          { "label": "Delete", "variant": "destructive" }
        ]
      }
    }
  ]
}
```

### Selectable Grid

```json
{
  "type": "grid",
  "columns": [...],
  "data": [...],
  "selectable": true,
  "onSelectionChange": "handleSelection"
}
```

### Grid with Pagination

```json
{
  "type": "grid",
  "columns": [...],
  "data": [...],
  "pagination": {
    "pageSize": 10,
    "showSizeChanger": true,
    "pageSizeOptions": [10, 20, 50, 100]
  }
}
```

### ObjectQL Integration

```json
{
  "type": "object-grid",
  "object": "users",
  "columns": [
    { "header": "Name", "accessorKey": "name" },
    { "header": "Email", "accessorKey": "email" },
    { "header": "Created", "accessorKey": "created_at" }
  ],
  "pagination": true,
  "sortable": true,
  "filterable": true
}
```

## Features

### Sorting

Enable sorting on all or specific columns:

```json
{
  "type": "grid",
  "sortable": true,
  "columns": [
    { "header": "Name", "accessorKey": "name", "sortable": true },
    { "header": "Email", "accessorKey": "email", "sortable": false }
  ]
}
```

### Filtering

Enable column-level filtering:

```json
{
  "type": "grid",
  "filterable": true,
  "columns": [
    { "header": "Status", "accessorKey": "status", "filterable": true }
  ]
}
```

### Row Actions

Add action buttons to each row:

```json
{
  "type": "grid",
  "rowActions": [
    { "label": "View", "onClick": "viewRow" },
    { "label": "Edit", "onClick": "editRow" },
    { "label": "Delete", "onClick": "deleteRow" }
  ]
}
```

### Inline Editing

Enable inline cell editing for quick data updates:

```json
{
  "type": "object-grid",
  "objectName": "users",
  "columns": [
    { "header": "ID", "accessorKey": "id", "editable": false },
    { "header": "Name", "accessorKey": "name" },
    { "header": "Email", "accessorKey": "email" },
    { "header": "Status", "accessorKey": "status" }
  ],
  "editable": true,
  "onCellChange": "handleCellChange"
}
```

**Features:**
- Double-click or press Enter on a cell to start editing
- Press Enter to save changes
- Press Escape to cancel editing
- Column-level control: Set `editable: false` on specific columns to prevent editing
- Callback support: Use `onCellChange` to handle cell value updates

**Example Handler:**
```javascript
function handleCellChange(rowIndex, columnKey, newValue, row) {
  console.log(`Cell at row ${rowIndex}, column ${columnKey} changed to:`, newValue);
  console.log('Full row data:', row);
  // Update your data source here
}
```

### Batch Editing & Multi-Row Save

Edit multiple cells across multiple rows and save them individually or all at once:

```json
{
  "type": "object-grid",
  "objectName": "products",
  "columns": [
    { "header": "SKU", "accessorKey": "sku", "editable": false },
    { "header": "Name", "accessorKey": "name" },
    { "header": "Price", "accessorKey": "price" }
  ],
  "editable": true,
  "rowActions": true,
  "onRowSave": "handleRowSave",
  "onBatchSave": "handleBatchSave"
}
```

**Features:**
- **Pending changes tracking**: Edit multiple cells across rows before saving
- **Visual indicators**: Modified rows highlighted in amber, modified cells in bold
- **Row-level save/cancel**: Individual row save and cancel buttons
- **Batch operations**: Save All and Cancel All buttons for bulk actions
- **Flexible callbacks**: `onRowSave` for single row, `onBatchSave` for multiple rows

**Example Handlers:**
```javascript
function handleRowSave(rowIndex, changes, row) {
  console.log('Saving row:', rowIndex, changes);
  // Save single row to backend
  await dataSource.update(row.id, changes);
}

function handleBatchSave(allChanges) {
  console.log('Batch saving:', allChanges.length, 'rows');
  // Save all changes at once
  await Promise.all(
    allChanges.map(({ row, changes }) => 
      dataSource.update(row.id, changes)
    )
  );
}
```

## TypeScript Support

```plaintext
import type { GridSchema, GridColumn } from '@object-ui/plugin-grid';

const grid: GridSchema = {
  type: 'grid',
  columns: [...],
  data: [],
  sortable: true,
  pagination: true
};
```

## License

MIT

</PluginLoader>
